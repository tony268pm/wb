{"version":3,"sources":["pages/home/index.js","pages/hots/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["Home","className","style","width","justifyContent","target","rel","href","to","marginLeft","Hots","query","URLSearchParams","useLocation","search","match","useRouteMatch","useState","hots","setHots","loading","setLoading","date","get","_date","dayjs","format","fetchHots","a","fetch","res","json","data","useEffect","length","subtract","isBefore","url","add","isAfter","_","keys","countBy","d","trim","category","filter","item","map","verticalAlign","role","title","ads","hot","whiteSpace","textOverflow","overflow","description","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cfc0409e.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\n\nfunction Home() {\n  return (\n    <div className=\"d-flex vh-100 text-center text-dark bg-white\">\n      <div className=\"d-flex h-100 p-3 mx-auto flex-column\" style={{ width: '42em', justifyContent: 'center' }}>\n        <main className=\"px-3\">\n          <h1>微博热搜聚合</h1>\n          <p className=\"lead\">\n            使用github action聚合微博热搜，每小时定时执行发送到\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://t.me/weibo_hots\"\n              className=\"text-danger\"\n            >\n              telegram bot\n            </a>\n            并存档至github\n          </p>\n          <p className=\"lead\">\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://github.com/tg-wb-trending\"\n              className=\"btn btn-lg btn-dark fw-bold\"\n            >\n              Github\n            </a>\n\n            <Link\n              to=\"/hots\"\n              className=\"btn btn-lg btn-outline-dark fw-bold\"\n              style={{ marginLeft: '1em' }}\n            >\n              演示\n            </Link>\n          </p>\n        </main>\n      </div>\n    </div>\n  )\n}\n\nexport default Home;\n","import { useState, useEffect } from \"react\";\nimport { Link, useLocation, useRouteMatch } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport _ from 'lodash'\nimport \"./index.css\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst URL = \"https://weibo.weibo.me\"\n\nexport default function Hots() {\n  const query = useQuery()\n  const match = useRouteMatch()\n  const [hots, setHots] = useState([]);\n  const [loading, setLoading] = useState(true)\n  const date = query.get('date')\n  const _date = date ? dayjs(date).format('YYYY-MM-DD') : dayjs().format('YYYY-MM-DD')\n  const fetchHots = async () => {\n    setLoading(true)\n    const res = await fetch(`${URL}/api/${_date}.json`);\n    const data = await res.json();\n    setHots(data);\n    setLoading(false)\n  };\n\n  useEffect(() => {\n    fetchHots()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [_date]);\n  return (\n    <div className=\"hot-container\">\n      <section className=\"page-header bg-dark\">\n        <h1 className=\"hot-date font-bold\">{_date}</h1>\n        <h5 className=\"hot-desc\">共 <b>{hots.length || 0}</b> 条微博热搜</h5>\n        {!dayjs(_date).subtract(1, 'd').isBefore(dayjs('2020-12-27')) && <Link\n          to={`${match.url}?date=${dayjs(_date).subtract(1, 'd').format('YYYY-MM-DD')}`}\n          className=\"btn btn-secondary fw-bold border-white bg-white text-dark mt-2\"\n        >\n          前一天\n        </Link>}\n        {!dayjs(_date).add(1, 'd').isAfter(dayjs()) && <Link\n          to={`${match.url}?date=${dayjs(_date).add(1, 'd').format('YYYY-MM-DD')}`}\n          className=\"btn btn-secondary fw-bold border-white bg-white text-dark mt-2\" style={{ marginLeft: 10 }}\n        >\n          后一天\n        </Link>}\n        <div className=\"mt-3\">\n          {_.keys(_.countBy(hots, d => _.trim(d.category))).filter(item => item).map(item => (\n            <span\n              className=\"badge bg-light text-secondary\"\n              style={{ verticalAlign: 'text-bottom', marginLeft: 5 }}\n              key={item}\n            >\n              {item} {_.countBy(hots, d => _.trim(d.category))[item]}\n            </span>\n          ))}\n        </div>\n      </section>\n      <div className=\"container mt-4\">\n        {loading\n          ? <div className=\"text-center\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n          : <ol>\n          {hots.map(item => (\n            <li key={item.title} className=\"hot-item\">\n              <p className=\"fs-6\">\n                <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {item.title}\n                </a>\n                <span className={`badge bg-secondary`} style={{ verticalAlign: 'text-bottom', marginLeft: 5 }}>{_.trim(item.category)}</span>\n                {item.ads && <span className={`badge bg-danger`} style={{ verticalAlign: 'text-bottom', marginLeft: 5 }}>推广</span>}\n                {item.hot && <mark className=\"text-muted\" style={{ marginLeft: 5 }}>热度: {item.hot}</mark>}\n              </p>\n              <p className=\"text-secondary\" style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden' }}>{item.description || '暂无描述'}</p>\n            </li>\n          ))}\n        </ol>}\n      </div>\n    </div>\n  );\n}\n","import { Switch, Route } from 'react-router-dom'\nimport Home from './pages/home'\nimport Hots from './pages/hots'\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n\n      <Route path=\"/hots\">\n        <Hots />\n      </Route>\n    </Switch>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}